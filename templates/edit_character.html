{% extends "base.html" %}
{% block content %}
        <h3 class="center"><i class="fa fa-cog" aria-hidden="true"></i> Edit Character <i class="fa fa-cog" aria-hidden="true"></i></h3>

        <main class="container">
            <hr><br>
            <div class="card blue-grey lighten-5 center">
                <div class="row">
                    <form class="col s12 center" method="POST" action="{{ url_for('edit_character', character_id=character._id) }}">
                        <div class="row">
                          <div class="input-field col s6 center">
                            <i class=""></i>
                            <input id="name" name="name" type="text" value="{{ character.name }}"
                                required pattern="^[a-zA-Z0-9]{2,50}$" class="validate">
                            <label for="name">Name</label>
                          </div>
                          <div class="input-field col s6 center">
                            <i class=""></i>
                            <input id="title" name="title" type="text" value="{{ character.title }}"
                                class="validate">
                            <label for="title">Title</label>
                          </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s6">
                                <select name="rank">
                                  {% if character.rank %}
                                  <option selected>{{ character.rank }}</option>
                                  {% else %}
                                  <option value="" disabled selected>Choose Rank</option>
                                  {% endif %}
                                  {% for level in rank %}
                                  <option>{{ level.rank_name }}</option>
                                  {% endfor %}
                                </select>
                                <label for="rank">Rank</label>
                              </div>
                            <div class="input-field col s6 center center-align">
                                <i class=""></i>
                                <input id="image" name="image" type="text" value="{{ character.image }}"
                                    class="validate">
                                <label for="image">Image URL</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4 center">
                              <i class=""></i>
                              <input id="species" name="species" type="text" value="{{ character.species }}"
                              class="validate">
                              <label for="species">Species</label>
                            </div>
                            <div class="input-field col s4">
                                <select name="gender">
                                  {% if character.gender %}
                                  <option selected>{{ character.gender }}</option>
                                  {% else %}
                                  <option value="" disabled selected>Choose Gender</option>
                                  {% endif %}
                                  {% for gender in genders %}
                                  <option>{{ gender.gender_name }}</option>
                                  {% endfor %}
                                </select>
                                <label for="gender">Gender</label>
                              </div>
                            <div class="input-field col s4 center">
                              <i class=""></i>
                              <input id="age" name="age" type="text" value="{{ character.age }}"
                                  class="validate">
                              <label for="age">Age</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4 center">
                              <i class=""></i>
                              <input id="hair" name="hair" type="text" value="{{ character.hair }}"
                                  class="validate">
                              <label for="hair">Hair</label>
                            </div>
                            <div class="input-field col s4 center">
                                <select name="build">
                                  {% if character.build %}
                                  <option selected>{{ character.build }}</option>
                                  {% else %}
                                  <option value="" disabled selected>Choose Physique</option>
                                  {% endif %}
                                  {% for build in builds %}
                                  <option>{{ build.build_name }}</option>
                                  {% endfor%}
                                </select>
                                <label for="build">Physique</label>
                              </div>
                              <div class="input-field col s4">
                                <select multiple name="talents">
                                  <option value="" disabled selected>Choose Talent(s)</option>
                                  {% for talent in talents %}
                                  <option>{{ talent.talent_name }}</option>
                                  {% endfor %}
                                  {% if character.talents %}
                                  <option value="{{ character.talents }}" multiple selected>{{ character.talents }}</option>
                                  {% else %}
                                  <option value="" disabled selected>Choose Talent(s)</option>
                                  {% endif %}
                                </select>
                                <label for="talents">Talent(s)</label>
                              </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s6">
                                    <select multiple name="traits">
                                      <option disabled selected>Choose Trait(s)</option>
                                      <optgroup label="Positive Traits">
                                        {% for trait in positive %}
                                        {% if trait.trait_name == character.traits %}
                                        <option value="{{ character.traits }}" multiple selected>{{ trait.trait_name }}</option>
                                        {% else %}
                                        <option value="{{ character.traits }}">{{ trait.trait_name }}</option>
                                        {% endif %}
                                        {% endfor %}
                                      </optgroup>
                                      <optgroup label="Negative Traits">
                                        {% for trait in negative %}
                                        <option value="{{ character.traits }}">{{ trait.trait_name }}</option>
                                        {% endfor %}
                                      </optgroup>
                                    </select>
                                    <label for="traits">Traits</label>
                                  </div>
                            </div>
                            <div class="row">
                              <div class="input-field col s12 center-align">
                                <i class=""></i>
                                <input id="backstory" name="backstory" type="text"
                                value="{{ character.backstory }}">
                                <label for="backstory">Backstory</label>
                              </div>
                            </div>
                            <div class="row">
                                <button class="btn waves-effect green darken-1 center" type="submit" name="submit">Update
                                </button>
                                <a href="{{ url_for('cancel_edit') }}" class="btn waves-effect red darken-1 center">Cancel</a>
                            </div>
                    </form>
                </div>
            </div>

        </main>
    {% endblock %}